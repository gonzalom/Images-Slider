{"version":3,"sources":["images-carousel.react.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"images-carousel.js","sourcesContent":["class ImagesCarousel extends React.Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      images: []\n    }\n  }\n\n  componentDidMount () {\n    this.loadImagesFromServer()\n    //setInterval(this.loadImagesFromServer, 2000)\n  }\n\n  componentDidUpdate() {\n    this.props.afterInit()\n  }\n\n  loadImagesFromServer () {\n    $.ajax({\n      url:     this.props.url,\n      success: function (data) {\n        // window.console.debug('received', data)\n        this.setState({images: data})\n      }.bind(this),\n    })\n  }\n\n  render () {\n    if (this.state.images.length > 0) {\n      const imageNodes = this.state.images.map(function (img, i) {\n        return (\n          <FigureBlock key={i} src={img.src} retinaSrc={img.retinaSrc} alias={img.alias} width={img.width}>{img.src}</FigureBlock>\n        )\n      })\n\n      return (\n        <div className=\"owl-carousel owl-theme\">\n          {imageNodes}\n        </div>\n      )\n    } else {\n      return (\n        <strong>No images found.</strong>\n      )\n    }\n  }\n}\n\nclass FigureBlock extends React.Component {\n  render() {\n    const figureStyle = {\n      width: this.props.width\n    }\n    const imgClassNames = {\n      'img-rounded': true,\n      'owl-lazy': true\n    }\n\n    const imgProps = {\n      dataSrc: this.props.src + '?img=' + this.props.alias,\n      dataSrcRetina: this.props.retinaSrc + '?img=' + this.props.alias,\n      dataHash: this.props.alias\n    }\n\n    // React doesn't accept custom fields:\n    // https://facebook.github.io/react/warnings/unknown-prop.html\n\n    return (\n      <figure className=\"item\" style={figureStyle}>\n        <img className={imgClassNames} src={imgProps.dataSrc} alt={this.props.alias} />\n        {/*<img className={imgClassNames} dataSrc={imgProps.dataSrc} dataSrcRetina={imgProps.dataSrc} dataHash={imgProps.dataSrc} alt={this.props.alias} />*/}\n      </figure>\n    )\n  }\n}\n\nwindow.ImagesCarousel = ImagesCarousel\n"]}